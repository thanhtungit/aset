/*
 Copyright (c)2014-2018 Nicholas K. Dionysopoulos / Akeeba Ltd
 @license     GNU GPL version 3 or later
*/
var AKEEBA_ANALYZE_SUCCESS=1,AKEEBA_ANALYZE_WARNING=0,AKEEBA_ANALYZE_FAILURE=-1;if("undefined"===typeof akeeba)var akeeba={};"undefined"===typeof akeeba.Alice&&(akeeba.Alice={log_selector:null,analyze:null,download:null,raw_output:null,translations:{},akeebaUrl:"",translateUrl:""});
akeeba.Alice.onLogChange=function(){var a=this.options[this.selectedIndex].value;akeeba.Alice.analyze.style.display="none";akeeba.Alice.download.style.display="none";a&&(akeeba.Alice.analyze.style.display="inline-block",akeeba.Alice.download.style.display="inline-block")};
akeeba.Alice.onDownload=function(a){a.preventDefault?a.preventDefault():a.returnValue=!1;a=akeeba.System.data.get(this,"url","");window.location=a+akeeba.Alice.log_selector.options[akeeba.Alice.log_selector.selectedIndex].value;return!1};
akeeba.Alice.onAnalyze=function(a){a.preventDefault?a.preventDefault():a.returnValue=!1;if(!0==akeeba.System.data.get(akeeba.Alice.analyze,"started",!1))return!1;akeeba.Alice.analyze.className="akeeba-btn--dark";akeeba.System.data.set(akeeba.Alice.analyze,"started",!0);akeeba.Alice.log_selector.setAttribute("disabled","disabled");a=document.querySelectorAll("#alice-messages tr");for(var c=0;c<a.length;c++)a[c].parentNode.removeChild(a[c]);akeeba.Alice.raw_output.style.display="none";(new AkeebaStepper({akeebaUrl:akeeba.Alice.akeebaUrl,
onBeforeStart:function(a){a.data.log=akeeba.Alice.log_selector.options[akeeba.Alice.log_selector.selectedIndex].value},onComplete:function(a){var c=[],m=document.getElementById("alice-messages");a=JSON.parse(a.Results);for(var n=akeeba.Alice.translations.SOLO_ALICE_SUCCESSS,p=akeeba.Alice.translations.SOLO_ALICE_WARNING,q=akeeba.Alice.translations.SOLO_ALICE_ERROR,f=0;f<a.length;f++){var d=a[f],g=document.createElement("tr"),b="akeeba-label--success",h=n;d.result==AKEEBA_ANALYZE_WARNING?(h=p,b="akeeba-label--warning"):
d.result==AKEEBA_ANALYZE_FAILURE&&(h=q,b="akeeba-label--failure");var e=document.createElement("td");e.innerHTML=d.check;g.appendChild(e);var l=document.createElement("td"),k=document.createElement("span");k.className=b;k.innerHTML=h;l.appendChild(k);g.appendChild(l);d.result!=AKEEBA_ANALYZE_SUCCESS&&(c.push({check:d.raw.check,error:d.raw.error}),b=document.createElement("div"),b.className="akeeba-panel--red",e.appendChild(b),b=document.createElement("p"),b.innerHTML=d.error,e.appendChild(b),b=document.createElement("p"),
b.innerHTML="<em>"+d.solution+"</em>",e.appendChild(b));m.appendChild(g)}document.getElementById("stepper-progress-pane").style.display="none";document.getElementById("stepper-complete").style.display="block";akeeba.Alice.className="akeeba-btn--primary";akeeba.System.data.set(akeeba.Alice.analyze,"started",!1);akeeba.Alice.log_selector.removeAttribute("disabled");0<c.length&&akeeba.Ajax.ajax(akeeba.Alice.translateUrl,{data:{keys:JSON.stringify(c)},success:function(a){a=a.match(/###(.*?)###/);if(void 0!==
a[1]){a=JSON.parse(a[1]);for(var b="------ BEGIN OF ALICE RAW OUTPUT -----\n",c=0;c<a.length;c++)d=a[c],b+="[b]"+d.check+"[/b]\n"+d.error+"\n\n";akeeba.Alice.raw_output.querySelector("textarea").innerHTML=b+"------ END OF ALICE RAW OUTPUT -----\n";akeeba.Alice.raw_output.style.display="block"}}})}})).init();return!1}; //#sourceMappingURL=alice.min.map
